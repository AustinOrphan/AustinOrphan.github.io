<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Austin Orphan</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="styles/main.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Anta&family=Comfortaa:wght@700&family=Source+Sans+Pro:wght@900&display=swap" as="style">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&family=Pixelify+Sans:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Load critical CSS -->
    <link rel="stylesheet" href="styles/main.css" />
    
    <!-- Load critical JavaScript -->
    <script src="https://unpkg.com/@phosphor-icons/web@2.1.1"></script>

    <!-- Component Loader System -->
    <script src="js/component-loader.js" defer></script>
    
    <!-- favicon -->
    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#6ee5e3">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="theme-color" content="#000000">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Austin Orphan - Creative, Competitive, and Curious developer and designer. Explore my portfolio featuring innovative projects and professional work.">
    <meta name="keywords" content="Austin Orphan, developer, designer, portfolio, creative, competitive, curious, web development, programming, projects">
    <meta name="author" content="Austin Orphan">
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:url" content="https://austinorphan.github.io/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Austin Orphan - Creative, Competitive, Curious">
    <meta property="og:description" content="Austin Orphan - Creative, Competitive, and Curious developer and designer. Explore my portfolio featuring innovative projects and professional work.">
    <meta property="og:image" content="https://austinorphan.github.io/apple-touch-icon.png">
    <meta property="og:image:alt" content="Austin Orphan Portfolio">
    <meta property="og:site_name" content="Austin Orphan Portfolio">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://austinorphan.github.io/">
    <meta name="twitter:title" content="Austin Orphan - Creative, Competitive, Curious">
    <meta name="twitter:description" content="Austin Orphan - Creative, Competitive, and Curious developer and designer. Explore my portfolio featuring innovative projects and professional work.">
    <meta name="twitter:image" content="https://austinorphan.github.io/apple-touch-icon.png">
    <meta name="twitter:image:alt" content="Austin Orphan Portfolio">
    
    <!-- Additional SEO Tags -->
    <link rel="canonical" href="https://austinorphan.github.io/">
    <meta name="application-name" content="Austin Orphan Portfolio">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Austin Orphan",
        "url": "https://austinorphan.com",
        "sameAs": [
            "https://github.com/austinorphan",
            "https://www.linkedin.com/in/austinorphan/"
        ],
        "jobTitle": "Developer & Designer",
        "description": "Creative, Competitive, and Curious developer and designer specializing in innovative web development projects.",
        "email": "AustinGOrphan@gmail.com",
        "knowsAbout": ["Web Development", "JavaScript", "Python", "UI/UX Design", "React", "Node.js"],
        "mainEntityOfPage": {
            "@type": "WebSite",
            "@id": "https://austinorphan.com"
        }
    }
    </script>
    
    <!-- Google Analytics (replace YOUR_GA_ID with your actual GA4 measurement ID) -->
    <script>
        const GA_ID = 'YOUR_GA_ID'; // Replace with your actual GA4 measurement ID
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GA_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', GA_ID, {
            page_title: 'Austin Orphan Portfolio',
            page_location: window.location.href
        });
    </script>
    
</head>

<body>
    <!-- Hero Section -->
    <section id="hero" class="hero-section">
        <div class="page-wrapper">
            <div class="content-wrapper">
                <h1>Austin Orphan</h1>
                <p id="cbar">
                    Creative <span class="divider"> | </span>Competitive <span class="divider"> | </span> Curious
                </p>
                <div id="linkBar">
                    <a href="https://github.com/austinorphan" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile">
                        <i class="icon ph-duotone ph-github-logo"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/austinorphan/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn Profile">
                        <i class="icon ph-duotone ph-linkedin-logo"></i>
                    </a>
                    <a href="AustinOrphanResume.pdf" download aria-label="Download Resume">
                        <i class="icon ph-duotone ph-read-cv-logo"></i>
                    </a>
                    <a href="mailto:AustinGOrphan@gmail.com" aria-label="Email Contact">
                        <i class="icon ph-duotone ph-envelope-simple"></i>
                    </a>
                    <a href="#projects" aria-label="View Projects">
                        <i class="icon ph-duotone ph-meteor"></i>
                    </a>
                </div>
            </div>
            <div class="scroll-indicator">
                <a href="#about" aria-label="Scroll to About">
                    <i class="ph-duotone ph-arrow-down"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Component Containers -->
    <div id="about-container"></div>
    <div id="projects-container"></div>
    <div id="contact-container"></div>
    <div id="footer-container"></div>

    <!-- Navigation -->
    <nav class="section-nav">
        <a href="#hero" aria-label="Go to Hero Section">
            <i class="ph-duotone ph-house"></i>
        </a>
        <a href="#about" aria-label="Go to About Section">
            <i class="ph-duotone ph-user"></i>
        </a>
        <a href="#projects" aria-label="Go to Projects Section">
            <i class="ph-duotone ph-folder-open"></i>
        </a>
        <a href="#contact" aria-label="Go to Contact Section">
            <i class="ph-duotone ph-envelope"></i>
        </a>
    </nav>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
    
    <!-- Professional Scroll Animations -->
    <script>
        // Make this function globally accessible for component loader
        window.initializeScrollAnimations = function() {
            // Add scroll reveal classes to elements with logical grouping
            const projectCards = document.querySelectorAll('.project-card');
            const aboutElements = document.querySelectorAll('.detail-section, .skill-category');
            const contactElements = document.querySelectorAll('.contact-method, .experience-item');
            
            // Apply reveal classes with proper delays per section
            projectCards.forEach((el, index) => {
                el.classList.add('scroll-reveal');
                // Projects appear in order from left to right, top to bottom
                el.style.transitionDelay = `${index * 0.1}s`;
            });
            
            aboutElements.forEach((el, index) => {
                el.classList.add('scroll-reveal');
                el.style.transitionDelay = `${index * 0.08}s`;
            });
            
            contactElements.forEach((el, index) => {
                el.classList.add('scroll-reveal');
                el.style.transitionDelay = `${index * 0.08}s`;
            });
            
            // Track scroll speed for responsive animations
            let lastScrollY = window.pageYOffset;
            let scrollSpeed = 0;
            let scrollTimeout;
            
            function calculateScrollSpeed() {
                const currentScrollY = window.pageYOffset;
                scrollSpeed = Math.abs(currentScrollY - lastScrollY);
                lastScrollY = currentScrollY;
                
                // Clear speed after scroll stops
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    scrollSpeed = 0;
                }, 150);
            }
            
            // Enhanced Intersection Observer with scroll-speed awareness
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        // Add fast-reveal class for high scroll speeds
                        if (scrollSpeed > 30) {
                            entry.target.classList.add('fast-reveal');
                        }
                        
                        // Reveal immediately for fast scrolling, otherwise use CSS delay
                        if (scrollSpeed > 30) {
                            entry.target.classList.add('revealed');
                        } else {
                            // Let CSS transition-delay handle the timing
                            requestAnimationFrame(() => {
                                entry.target.classList.add('revealed');
                            });
                        }
                        
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);
            
            // Observe all reveal elements
            [...projectCards, ...aboutElements, ...contactElements].forEach(el => observer.observe(el));
            
            // Constants
            const DESKTOP_WIDTH_THRESHOLD = 600; // Matches CSS breakpoint
            
            // Media query for better performance
            const DESKTOP_MEDIA_QUERY = window.matchMedia(`(min-width: ${DESKTOP_WIDTH_THRESHOLD}px)`);
            let isDesktop = DESKTOP_MEDIA_QUERY.matches;
            
            DESKTOP_MEDIA_QUERY.addEventListener('change', (e) => {
                isDesktop = e.matches;
            });
            
            // Enhanced parallax effect with proper layering
            const heroContent = document.querySelector('.content-wrapper');
            const linkBar = document.querySelector('#linkBar');
            
            // Throttled scroll handler for better performance
            let ticking = false;
            function updateOnScroll() {
                const scrolled = window.pageYOffset;
                const heroHeight = window.innerHeight;
                
                // Calculate scroll speed
                calculateScrollSpeed();
                
                // Only apply parallax while in hero section
                if (scrolled < heroHeight) {
                    const parallaxMain = scrolled * 0.25; // Main content parallax
                    
                    // Apply different parallax speeds for layered effect
                    if (heroContent) {
                        heroContent.style.transform = `translateY(${parallaxMain}px)`;
                    }
                    
                    // LinkBar behavior depends on screen size
                    if (linkBar) {
                        if (isDesktop) {
                            // Desktop: Apply parallax effect
                            const parallaxLinkBar = scrolled * 0.1;
                            linkBar.style.transform = `translateY(${parallaxLinkBar}px)`;
                        } else {
                            // Mobile: Keep fixed position, only adjust opacity
                            const opacity = Math.max(0.7, 1 - (scrolled / heroHeight) * 0.3);
                            linkBar.style.opacity = opacity;
                            linkBar.style.transform = `translateX(-50%)`;
                        }
                    }
                } else {
                    // Reset transforms when past hero section
                    if (heroContent) heroContent.style.transform = '';
                    if (linkBar) {
                        if (isDesktop) {
                            linkBar.style.transform = '';
                        } else {
                            linkBar.style.opacity = '0.7';
                            linkBar.style.transform = `translateX(-50%)`;
                        }
                    }
                }
                
                ticking = false;
            }
            
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(updateOnScroll);
                    ticking = true;
                }
            }, { passive: true });
            
            // Add smooth entrance animation for hero elements
            setTimeout(() => {
                document.querySelector('h1').style.animation = 'slideInScale 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards';
                document.querySelector('#cbar').style.animation = 'slideInScale 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.2s forwards';
                document.querySelector('#linkBar').style.animation = 'slideInScale 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.4s forwards';
            }, 300);
            
            // Random red flash effect on project buttons
            const projectButtons = document.querySelectorAll('.project-links a');
            
            function triggerRandomFlash() {
                // Pick random buttons to flash (1-3 buttons)
                const numFlashes = Math.floor(Math.random() * 3) + 1;
                const shuffled = Array.from(projectButtons).sort(() => Math.random() - 0.5);
                
                for (let i = 0; i < numFlashes && i < shuffled.length; i++) {
                    const delay = i * 0.5 + Math.random() * 2; // Stagger flashes
                    const button = shuffled[i];
                    
                    // Apply the flash animation
                    setTimeout(() => {
                        // Add a class to trigger the flash
                        button.classList.add('flashing');
                        
                        // Remove the class after animation completes
                        setTimeout(() => {
                            button.classList.remove('flashing');
                        }, 2000);
                    }, delay * 1000);
                }
                
                // Schedule next random flash (between 5-15 seconds)
                const nextDelay = 5000 + Math.random() * 10000;
                setTimeout(triggerRandomFlash, nextDelay);
            }
            
            // Start the random flashes after page loads
            setTimeout(triggerRandomFlash, 3000);
        }
        
        // Listen for components loaded event
        window.addEventListener('allComponentsLoaded', function() {
            initializeScrollAnimations();
        });
    </script>
    
    <!-- Section Navigation Active State -->
    <script>
        function updateActiveNavigation() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.section-nav a');
            const sectionNav = document.querySelector('.section-nav');
            let scrollTimeout;
            
            function updateActiveSection() {
                const scrollPosition = window.scrollY + window.innerHeight / 2;
                
                sections.forEach((section, index) => {
                    const top = section.offsetTop;
                    const height = section.offsetHeight;
                    
                    if (scrollPosition >= top && scrollPosition < top + height) {
                        navLinks.forEach(link => link.classList.remove('active'));
                        navLinks[index].classList.add('active');
                    }
                });
            }
            
            function handleScroll() {
                // Show navigation on scroll
                sectionNav.classList.add('show-on-scroll');
                
                // Clear existing timeout
                clearTimeout(scrollTimeout);
                
                // Hide navigation after scroll stops (3 seconds delay)
                scrollTimeout = setTimeout(() => {
                    sectionNav.classList.remove('show-on-scroll');
                }, 3000);
                
                updateActiveSection();
            }
            
            // Update on scroll
            window.addEventListener('scroll', handleScroll);
            
            // Update on load
            updateActiveSection();
            
            // Update when clicking nav links (with delay for smooth scroll)
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    setTimeout(updateActiveSection, 100);
                });
            });
            
            // Show navigation when mouse is near right edge
            document.addEventListener('mousemove', function(e) {
                if (window.innerWidth - e.clientX <= 80) {
                    sectionNav.classList.add('show-on-scroll');
                } else if (!sectionNav.matches(':hover')) {
                    // Only hide if not actively hovering over the nav
                    sectionNav.classList.remove('show-on-scroll');
                }
            });
        }
        
        window.updateActiveNavigation = updateActiveNavigation;
        
        // Listen for components loaded event
        window.addEventListener('allComponentsLoaded', function() {
            updateActiveNavigation();
        });
    </script>
    
    <!-- Contact Form JavaScript -->
    <script>
        window.initializeContactForm = function() {
            const form = document.querySelector('.contact-form');
            const statusDiv = document.getElementById('form-status');
            
            if (!form) return; // Exit if form not found
            
            function validateName(name) {
                return name.trim().length >= 2;
            }
            
            function validateEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email.trim());
            }
            
            function validateMessage(message) {
                return message.trim().length >= 10;
            }
            
            function showError(fieldId, message) {
                const errorElement = document.getElementById(fieldId + '-error');
                const field = document.getElementById(fieldId);
                errorElement.textContent = message;
                field.classList.add('error');
                errorElement.style.display = 'block';
            }
            
            function clearError(fieldId) {
                const errorElement = document.getElementById(fieldId + '-error');
                const field = document.getElementById(fieldId);
                errorElement.textContent = '';
                field.classList.remove('error');
                errorElement.style.display = 'none';
            }
            
            function showStatus(message, type) {
                statusDiv.textContent = message;
                statusDiv.className = 'form-status ' + type;
                statusDiv.style.display = 'block';
                
                if (type === 'success') {
                    setTimeout(() => {
                        statusDiv.style.display = 'none';
                    }, 5000);
                }
            }
            
            document.getElementById('name').addEventListener('blur', function() {
                if (!validateName(this.value)) {
                    showError('name', 'Name must be at least 2 characters long');
                } else {
                    clearError('name');
                }
            });
            
            document.getElementById('email').addEventListener('blur', function() {
                if (!validateEmail(this.value)) {
                    showError('email', 'Please enter a valid email address');
                } else {
                    clearError('email');
                }
            });
            
            document.getElementById('message').addEventListener('blur', function() {
                if (!validateMessage(this.value)) {
                    showError('message', 'Message must be at least 10 characters long');
                } else {
                    clearError('message');
                }
            });
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                statusDiv.style.display = 'none';
                
                const formData = new FormData(form);
                const name = formData.get('name');
                const email = formData.get('email');
                const subject = formData.get('subject');
                const message = formData.get('message');
                
                let isValid = true;
                
                if (!validateName(name)) {
                    showError('name', 'Name must be at least 2 characters long');
                    isValid = false;
                } else {
                    clearError('name');
                }
                
                if (!validateEmail(email)) {
                    showError('email', 'Please enter a valid email address');
                    isValid = false;
                } else {
                    clearError('email');
                }
                
                if (!validateMessage(message)) {
                    showError('message', 'Message must be at least 10 characters long');
                    isValid = false;
                } else {
                    clearError('message');
                }
                
                if (!isValid) {
                    showStatus('Please fix the errors above and try again.', 'error');
                    return;
                }
                
                const submitBtn = form.querySelector('.submit-btn');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="ph-duotone ph-spinner"></i> Sending...';
                submitBtn.disabled = true;
                
                // Submit to Formspree (replace with your actual form ID)
                fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                }).then(response => {
                    if (response.ok) {
                        form.reset();
                        showStatus('Thank you! Your message has been sent successfully. I\'ll get back to you soon!', 'success');
                    } else {
                        throw new Error('Network response was not ok');
                    }
                }).catch(error => {
                    console.error('Error:', error);
                    showStatus('Sorry, there was an issue sending your message. Please try emailing me directly at AustinGOrphan@gmail.com', 'error');
                }).finally(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                });
            });
        }
        
        // Listen for components loaded event to initialize form
        window.addEventListener('allComponentsLoaded', initializeContactForm);
    </script>
    
    <!-- Footer JavaScript for interactive elements -->
    <script>
        window.initializeFooter = function() {
            // Back to top button functionality
            const backToTopBtn = document.querySelector('.back-to-top');
            
            if (backToTopBtn) {
                backToTopBtn.addEventListener('click', function() {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }

            // Footer parallax reveal effect with better performance
            const footer = document.querySelector('.site-footer');
            const contactSection = document.querySelector('#contact');
            
            if (footer && contactSection) {
                // Add CSS transition for smoother animation
                footer.style.transition = 'transform 0.1s ease-out, opacity 0.1s ease-out';
                footer.style.willChange = 'transform, opacity';
                
                let ticking = false;
                
                function updateFooterParallax() {
                    const scrollPosition = window.pageYOffset + window.innerHeight;
                    const contactBottom = contactSection.offsetTop + contactSection.offsetHeight;
                    
                    // Start revealing when we reach the bottom of contact section
                    if (scrollPosition > contactBottom) {
                        // Calculate reveal progress starting from contact bottom
                        const revealDistance = 120; // Distance over which to reveal
                        const scrollPastContact = scrollPosition - contactBottom;
                        const revealProgress = Math.min(1, scrollPastContact / revealDistance);
                        
                        // Apply smooth transform and opacity starting from 0
                        const translateY = (1 - revealProgress) * 30;
                        footer.style.transform = `translateY(${translateY}px)`;
                        footer.style.opacity = revealProgress; // Starts at 0, goes to 1
                        footer.style.zIndex = '10000';
                    } else {
                        // Keep footer hidden
                        footer.style.transform = `translateY(50px)`;
                        footer.style.opacity = 0;
                        footer.style.zIndex = '-1';
                    }
                    
                    ticking = false;
                }
                
                // Throttled scroll listener for better performance
                function requestTick() {
                    if (!ticking) {
                        requestAnimationFrame(updateFooterParallax);
                        ticking = true;
                    }
                }
                
                window.addEventListener('scroll', requestTick, { passive: true });
                updateFooterParallax(); // Initial call
            }
        }
        
        // Listen for components loaded event to initialize footer
        window.addEventListener('allComponentsLoaded', initializeFooter);
    </script>
    
    <!-- Konami Code Easter Egg -->
    <script>
        (function() {
            const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
            let konamiIndex = 0;
            
            document.addEventListener('keydown', function(e) {
                const key = e.key;
                
                if (key === konamiCode[konamiIndex]) {
                    konamiIndex++;
                    
                    if (konamiIndex === konamiCode.length) {
                        activatePixelMode();
                        konamiIndex = 0;
                    }
                } else {
                    konamiIndex = 0;
                }
            });
            
            function activatePixelMode() {
                // Check if pixel mode is currently active
                const isPixelMode = document.body.classList.contains('pixel-mode');
                
                // Toggle pixel mode class
                document.body.classList.toggle('pixel-mode');
                
                // Play a retro sound effect (optional)
                const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSpy0Ey9diMFl2+z5cp2Jhgse8DvpnAfBTF6w+zcrWoiC0ix1Out8embMwsYbNDzn5NW+8XN0eWQXAmjebrq13hDjPvl8N/AghgKGHzN8cuiRBQMVGLp5cd/zOfs9eS2XwgBa3bBAAAtAAAAAAAAAAAA');
                audio.play().catch(() => {}); // Ignore errors if audio fails
                
                // Remove any existing notification
                const existingNotification = document.querySelector('.pixel-notification');
                if (existingNotification) {
                    existingNotification.remove();
                }
                
                // Show notification based on current state
                const notification = document.createElement('div');
                notification.className = 'pixel-notification';
                notification.textContent = isPixelMode ? '8-BIT MODE DEACTIVATED!' : '8-BIT MODE ACTIVATED!';
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }
        })();
    </script>
    
    <!-- Particle System Canvas -->
    <canvas id="particle-canvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 999;"></canvas>
    
    <!-- Particle System Script -->
    <script>
        (function() {
            const canvas = document.getElementById('particle-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            let particleMode = 'off';
            let particlesEnabled = false; // Disabled by default
            let mouseX = 0;
            let mouseY = 0;
            
            // Resize canvas to match window
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            // Particle class
            class Particle {
                constructor(x, y, options = {}) {
                    this.x = x;
                    this.y = y;
                    this.vx = options.vx || (Math.random() - 0.5) * 4;
                    this.vy = options.vy || (Math.random() - 0.5) * 4;
                    this.radius = options.radius || Math.random() * 3 + 1;
                    this.color = options.color || `hsl(${Math.random() * 360}, 100%, 50%)`;
                    this.life = options.life || 1;
                    this.decay = options.decay || 0.01;
                    this.gravity = options.gravity || 0;
                    this.bounce = options.bounce || 0;
                }
                
                update() {
                    this.x += this.vx;
                    this.y += this.vy;
                    this.vy += this.gravity;
                    this.life -= this.decay;
                    
                    // Clamp life between 0 and 1 to prevent flashing
                    this.life = Math.max(0, Math.min(1, this.life));
                    
                    // Bounce off walls
                    if (this.bounce > 0) {
                        if (this.x <= this.radius || this.x >= canvas.width - this.radius) {
                            this.vx *= -this.bounce;
                        }
                        if (this.y >= canvas.height - this.radius) {
                            this.vy *= -this.bounce;
                            this.y = canvas.height - this.radius;
                        }
                    }
                }
                
                draw() {
                    // Only draw if particle has life remaining
                    if (this.life <= 0) return;
                    
                    ctx.save();
                    ctx.globalAlpha = Math.max(0, this.life); // Ensure never negative
                    
                    // Check if 8-bit mode is active
                    const is8BitMode = document.body.classList.contains('pixel-mode');
                    
                    if (is8BitMode) {
                        // 8-bit square particles
                        ctx.fillStyle = this.color;
                        const pixelSize = Math.round(this.radius * 2);
                        ctx.fillRect(
                            Math.round(this.x - pixelSize/2), 
                            Math.round(this.y - pixelSize/2), 
                            pixelSize, 
                            pixelSize
                        );
                    } else {
                        // Normal round particles
                        ctx.fillStyle = this.color;
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                        ctx.fill();
                    }
                    
                    ctx.restore();
                }
            }
            
            // Create particle burst at position
            function createBurst(x, y, count = 30, options = {}) {
                if (!particlesEnabled) return;
                for (let i = 0; i < count; i++) {
                    const angle = (Math.PI * 2 * i) / count;
                    const speed = Math.random() * 5 + 2;
                    particles.push(new Particle(x, y, {
                        vx: Math.cos(angle) * speed,
                        vy: Math.sin(angle) * speed,
                        ...options
                    }));
                }
            }
            
            // Get random 8-bit color
            function get8BitColor() {
                const colors = ['#00ff00', '#00ffff', '#ff00ff', '#ffff00', '#ff0000', '#0080ff', '#ff8000'];
                return colors[Math.floor(Math.random() * colors.length)];
            }
            
            // Create firework effect
            function createFirework(x, y) {
                if (!particlesEnabled) return;
                const is8BitMode = document.body.classList.contains('pixel-mode');
                const color = is8BitMode ? get8BitColor() : `hsl(${Math.random() * 360}, 100%, 50%)`;
                
                createBurst(x, y, is8BitMode ? 30 : 50, {
                    color: color,
                    decay: 0.02,
                    gravity: is8BitMode ? 0.15 : 0.1,
                    radius: is8BitMode ? 2 : null
                });
            }
            
            // Create confetti effect
            function createConfetti() {
                if (!particlesEnabled) return;
                const is8BitMode = document.body.classList.contains('pixel-mode');
                
                for (let i = 0; i < (is8BitMode ? 50 : 100); i++) {
                    particles.push(new Particle(
                        Math.random() * canvas.width,
                        -10,
                        {
                            vx: (Math.random() - 0.5) * 2,
                            vy: Math.random() * 3 + 1,
                            color: is8BitMode ? get8BitColor() : `hsl(${Math.random() * 360}, 100%, 50%)`,
                            radius: is8BitMode ? 3 : Math.random() * 4 + 2,
                            decay: 0.001,
                            gravity: 0.05,
                            bounce: 0.8
                        }
                    ));
                }
            }
            
            // Mouse trail effect
            function createMouseTrail() {
                if (!particlesEnabled || particleMode !== 'trail') return;
                const is8BitMode = document.body.classList.contains('pixel-mode');
                
                particles.push(new Particle(mouseX, mouseY, {
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    radius: is8BitMode ? 2 : Math.random() * 2 + 1,
                    color: is8BitMode ? get8BitColor() : `hsl(${Date.now() * 0.1 % 360}, 100%, 50%)`,
                    decay: 0.02
                }));
            }
            
            // Animation loop
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Update and draw particles
                particles = particles.filter(particle => {
                    particle.update();
                    particle.draw();
                    return particle.life > 0;
                });
                
                // Create continuous effects
                createMouseTrail();
                
                requestAnimationFrame(animate);
            }
            animate();
            
            // Track mouse position
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });
            
            // Create disable button
            function createDisableButton() {
                const disableBtn = document.createElement('button');
                disableBtn.id = 'particle-disable-btn';
                disableBtn.innerHTML = '✕ Disable Particles';
                disableBtn.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: rgba(0, 0, 0, 0.8);
                    color: white;
                    border: 2px solid var(--color-accent);
                    padding: 10px 15px;
                    border-radius: 8px;
                    font-size: 14px;
                    cursor: pointer;
                    z-index: 10001;
                    transition: all 0.3s ease;
                    font-family: inherit;
                `;
                
                disableBtn.addEventListener('mouseover', () => {
                    disableBtn.style.background = 'var(--color-accent)';
                    disableBtn.style.color = 'var(--color-background)';
                });
                
                disableBtn.addEventListener('mouseout', () => {
                    disableBtn.style.background = 'rgba(0, 0, 0, 0.8)';
                    disableBtn.style.color = 'white';
                });
                
                disableBtn.addEventListener('click', () => {
                    particlesEnabled = false;
                    particles = [];
                    particleMode = 'off';
                    disableBtn.remove();
                    showNotification('❌ Particle System Disabled');
                });
                
                document.body.appendChild(disableBtn);
            }
            
            // Keyboard sequences for particle activation
            let keySequence = [];
            const activateCode = ['p', 'a', 'r', 't', 'y']; // Type "party" to enable particles
            const trailCode = ['t', 'r', 'a', 'i', 'l'];
            const clearCode = ['c', 'l', 'e', 'a', 'r'];
            const confettiCode = ['f', 'u', 'n']; // Changed from "party" to "fun"
            
            document.addEventListener('keydown', (e) => {
                keySequence.push(e.key.toLowerCase());
                if (keySequence.length > 5) {
                    keySequence.shift();
                }
                
                // Check for sequences
                const sequence = keySequence.join('');
                
                // Activation (works when disabled)
                if (!particlesEnabled && sequence.endsWith(activateCode.join(''))) {
                    particlesEnabled = true;
                    createDisableButton();
                    createConfetti(); // Immediate party effect!
                    showNotification('🎉 Party Mode Activated!', 'Click the ✕ button to disable');
                    keySequence = []; // Clear sequence
                } 
                // Particle effects (only work when enabled)
                else if (particlesEnabled) {
                    if (sequence.endsWith(confettiCode.join(''))) {
                        createConfetti();
                        // No notification for fun mode - just the visual effect
                    } else if (sequence.endsWith(trailCode.join(''))) {
                        particleMode = particleMode === 'trail' ? 'off' : 'trail';
                        showNotification(particleMode === 'trail' ? '✨ Mouse Trail On' : '✨ Mouse Trail Off');
                    } else if (sequence.endsWith(clearCode.join(''))) {
                        particles = [];
                        particleMode = 'off';
                        showNotification('🧹 Particles Cleared');
                    }
                }
            });
            
            // Secret click locations (only work when particles enabled)
            let nameClicks = 0;
            const nameElement = document.querySelector('h1');
            
            // Create a click handler that works with 8-bit mode
            function handleNameClick(e) {
                if (!particlesEnabled) return;
                
                // Get the actual click coordinates
                const rect = nameElement.getBoundingClientRect();
                const x = e.clientX || (rect.left + rect.width / 2);
                const y = e.clientY || (rect.top + rect.height / 2);
                
                nameClicks++;
                if (nameClicks >= 3) {
                    createFirework(x, y);
                    if (nameClicks >= 5) {
                        createConfetti();
                        nameClicks = 0;
                    }
                }
            }
            
            nameElement.addEventListener('click', handleNameClick);
            nameElement.style.cursor = 'pointer';
            
            // Click burst on any link (only when particles enabled)
            document.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', (e) => {
                    if (!particlesEnabled) return;
                    createBurst(e.clientX, e.clientY, 20, {
                        color: getComputedStyle(document.documentElement).getPropertyValue('--color-accent'),
                        decay: 0.03,
                        radius: 2
                    });
                });
            });
            
            // Show notification helper (dropdown style)
            function showNotification(message, subtitle = '') {
                const notification = document.createElement('div');
                notification.innerHTML = `
                    <div style="font-size: 18px; margin-bottom: ${subtitle ? '8px' : '0'}; font-weight: bold;">${message}</div>
                    ${subtitle ? `<div style="font-size: 14px; opacity: 0.9;">${subtitle}</div>` : ''}
                `;
                notification.style.cssText = `
                    position: fixed;
                    top: -100px;
                    right: 20px;
                    width: 300px;
                    background: rgba(0, 0, 0, 0.95);
                    color: white;
                    padding: 16px 20px;
                    border-radius: 8px;
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
                    z-index: 10000;
                    border-left: 4px solid var(--color-accent);
                    animation: dropdownSlide 4s ease-in-out forwards;
                    backdrop-filter: blur(10px);
                `;
                document.body.appendChild(notification);
                setTimeout(() => notification.remove(), 4000);
            }
            
            // Add dropdown animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes dropdownSlide {
                    0% { 
                        top: -100px; 
                        opacity: 0;
                        transform: translateY(-20px);
                    }
                    15% { 
                        top: 20px; 
                        opacity: 1;
                        transform: translateY(0);
                    }
                    85% { 
                        top: 20px; 
                        opacity: 1;
                        transform: translateY(0);
                    }
                    100% { 
                        top: -100px; 
                        opacity: 0;
                        transform: translateY(-20px);
                    }
                }
            `;
            document.head.appendChild(style);
        })();
    </script>


    <!-- Progressive darkening on scroll -->
    <!-- Commented out darkening effect
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const darkeningOverlay = document.styleSheets[0];
            
            function updateDarkening() {
                const scrollPosition = window.pageYOffset;
                const windowHeight = window.innerHeight;
                const documentHeight = document.documentElement.scrollHeight - windowHeight;
                
                // Calculate scroll progress (0 to 1)
                const scrollProgress = Math.min(scrollPosition / documentHeight, 1);
                
                // Apply darkening effect progressively
                // Starts subtle, gets stronger as you scroll down
                const darkeningIntensity = scrollProgress * 0.6; // Max 60% darkening
                
                // Update the ::after pseudo-element opacity
                document.body.style.setProperty('--darkening-opacity', darkeningIntensity);
                
                // Also adjust the gradient darkness
                const gradientDarkness = scrollProgress * 0.4; // Max 40% black
                document.body.style.setProperty('--gradient-darkness', gradientDarkness);
            }
            
            // Add CSS custom properties
            const style = document.createElement('style');
            style.textContent = `
                body::after {
                    opacity: var(--darkening-opacity, 0) !important;
                    background: linear-gradient(to bottom, 
                                transparent 0%, 
                                transparent 30%, 
                                rgba(0, 0, 0, var(--gradient-darkness, 0.3)) 100%) !important;
                }
            `;
            document.head.appendChild(style);
            
            // Update on scroll
            window.addEventListener('scroll', updateDarkening, { passive: true });
            updateDarkening(); // Initial call
        });
    </script>
    -->

</body>

</html>
